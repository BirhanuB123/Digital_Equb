// Digital Ekub Translations - English and Amharic
const translations = {
    en: {
        // Navigation
        nav_home: "Home",
        nav_how_it_works: "How It Works",
        nav_about: "About",
        nav_login: "Login",
        nav_register: "Register",
        nav_dashboard: "Dashboard",
        nav_logout: "Logout",

        // Hero Section
        hero_title: "Welcome to Digital Ekub",
        hero_subtitle: "A modern digital platform for collective money saving and fair distribution",
        hero_get_started: "Get Started",
        hero_learn_more: "Learn More",

        // How It Works Section
        how_it_works_title: "How Digital Ekub Works",
        step_1_title: "1. Join as Member",
        step_1_desc: "Register and become a member of our digital ekub community. Each member contributes 5,000 birr monthly.",
        step_2_title: "2. Bi-weekly Selection",
        step_2_desc: "Every 2 weeks, we randomly select one lucky member to receive half of the collected amount.",
        step_3_title: "3. Fair Distribution",
        step_3_desc: "Our system ensures all members get a chance before anyone is selected again, maintaining fairness.",
        
        example_scenario_title: "Example Scenario",
        monthly_collection_title: "Monthly Collection",
        monthly_collection_1: "12 members × 5,000 birr = 60,000 birr",
        monthly_collection_2: "Collection period: Monthly",
        monthly_collection_3: "Total pool: 60,000 birr",
        
        biweekly_distribution_title: "Bi-weekly Distribution",
        biweekly_distribution_1: "Round 1: 30,000 birr to lucky member",
        biweekly_distribution_2: "Round 2: 30,000 birr to lucky member",
        biweekly_distribution_3: "Fair rotation system",

        // Features Section
        features_title: "Why Choose Digital Ekub?",
        feature_1_title: "Secure & Transparent",
        feature_1_desc: "All transactions are recorded and visible to members, ensuring complete transparency.",
        feature_2_title: "Fair Selection",
        feature_2_desc: "Advanced algorithm ensures fair distribution and prevents favoritism.",
        feature_3_title: "Mobile Friendly",
        feature_3_desc: "Access your ekub account from anywhere, anytime with our mobile-responsive platform.",
        feature_4_title: "Real-time Updates",
        feature_4_desc: "Get instant notifications about payments, selections, and round updates.",

        // About Section
        about_title: "About Digital Ekub",
        about_desc_1: "Digital Ekub is a modern digital platform that brings the traditional Ethiopian Ekub system into the 21st century. We combine the community spirit of traditional ekub with cutting-edge technology to create a secure, transparent, and fair money collection and distribution system.",
        about_desc_2: "Our platform ensures that every member has an equal opportunity to benefit from the collective savings, while maintaining the social bonds that make ekub such a valuable tradition.",
        about_birr_monthly: "Birr Monthly",
        about_weeks_per_round: "Weeks Per Round",
        about_distribution: "Distribution",
        
        key_benefits_title: "Key Benefits",
        benefit_1: "No more manual record keeping",
        benefit_2: "Instant payment confirmations",
        benefit_3: "Transparent selection process",
        benefit_4: "Secure member management",
        benefit_5: "Mobile accessibility",

        // Footer
        footer_tagline: "Modernizing traditional ekub for the digital age.",
        footer_quick_links: "Quick Links",
        footer_contact: "Contact",
        footer_follow_us: "Follow Us",
        footer_copyright: "© 2024 Digital Ekub. All rights reserved.",

        // Modals
        login_title: "Login to Digital Ekub",
        register_title: "Join Digital Ekub",
        dashboard_title: "Digital Ekub Dashboard",
        
        // Form Labels
        full_name: "Full Name",
        email_address: "Email Address",
        phone_number: "Phone Number",
        password: "Password",
        
        // Buttons
        create_account: "Create Account",
        switch_to_register: "Register here",
        switch_to_login: "Login here",
        
        // Dashboard
        total_members: "Total Members",
        monthly_collection: "Monthly Collection",
        total_selections: "Total Selections",
        current_month: "Current Month",
        current_round_status: "Current Round Status",
        quick_actions: "Quick Actions",
        make_payment: "Make Payment",
        select_lucky_member: "Select Lucky Member",
        recent_payments: "Recent Payments",
        lucky_selections_history: "Lucky Selections History",
        all_members: "All Members",
        
        // Form Messages
        registration_successful: "Registration successful! Please login.",
        login_successful: "Login successful!",
        logout_successful: "Logout successful",
        payment_successful: "Payment successful!",
        lucky_member_selected: "Lucky member selected: {name}! They will receive {amount} Birr",
        
        // Validation Messages
        name_required: "Name is required",
        email_required: "Email is required",
        password_required: "Password is required",
        invalid_credentials: "Invalid credentials",
        email_exists: "Email already exists",
        network_error: "Network error. Please try again.",
        
        // Round Status
        between_rounds: "Between Rounds",
        next_round_starts: "Next round starts:",
        round: "Round",
        collected: "Collected:",
        lucky_member_will_receive: "Lucky member will receive:",
        
        // Table Headers
        member: "Member",
        amount: "Amount",
        date: "Date",
        status: "Status",
        phone: "Phone",
        joined: "Joined",
        total_paid: "Total Paid",
        
        // Status
        active: "Active",
        inactive: "Inactive",
        completed: "Completed",
        pending: "Pending",
        
        // Messages
        no_payments_found: "No payments found",
        no_selections_found: "No lucky selections found",
        no_members_found: "No members found",
        loading_dashboard: "Loading dashboard...",
        
        // Currency
        currency: "ብር",
        
        // Language
        language: "Language",
        english: "English",
        amharic: "አማርኛ"
    },
    
    am: {
        // Navigation
        nav_home: "ዋና ገጽ",
        nav_how_it_works: "እንዴት እንደሚሰራ",
        nav_about: "ስለ እኛ",
        nav_login: "ግባ",
        nav_register: "ይመዝገቡ",
        nav_dashboard: "ዳሽቦርድ",
        nav_logout: "ውጣ",

        // Hero Section
        hero_title: "ዲጂታል እቁብ እንኳን በደህና መጡ",
        hero_subtitle: "የጋራ ገንዘብ ማሰባሰብ እና ፍትሃዊ ስርጭት ለማድረግ የሚያገለግል ዘመናዊ ዲጂታል መድረክ።",
        hero_get_started: "ጀምሩ",
        hero_learn_more: "ተጨማሪ ይወቁ",

        // How It Works Section
        how_it_works_title: "ዲጂታል እቁብ እንዴት እንደሚሰራ",
        step_1_title: "1. አባል ሁን",
        step_1_desc: "ይመዝገቡ እና የዲጂታል እቁብ ማህበረሰባችን አባል ይሁኑ። እያንዳንዱ አባል በወር እስከ 5,000 ብር ያሰባስባል።",
        step_2_title: "2. በሳምንት ሁለት ጊዜ ምርጫ",
        step_2_desc: "በወር እያንዳንድ ሁለት ሳምንት፣ ከተሰበሰበው መጠን ግማሹን የሚቀበል ተሳላሰ አባል በዘፈቀደ እንመርጣለን።",
        step_3_title: "3. ፍትሃዊ ስርጭት",
        step_3_desc: "ስርዓታችን ሁሉም አባላት እስኪያገኙ ድረስ ማንም እንዳይመረጥ ያረጋግጣል፣ ፍትሃዊነትን ያስጠብቃል።",
        
        example_scenario_title: "የምሳሌ ሁኔታ",
        monthly_collection_title: "ወርሃዊ ስብሰባ",
        monthly_collection_1: "12 አባላት × 5,000 ብር = 60,000 ብር",
        monthly_collection_2: "የስብሰባ ጊዜ: በወር",
        monthly_collection_3: "ጠቅላላ ማዕከል: 60,000 ብር",
        
        biweekly_distribution_title: "በሳምንት ሁለት ጊዜ ስርጭት",
        biweekly_distribution_1: "ዙር 1: 30,000 ብር ለተሳላሰ አባል",
        biweekly_distribution_2: "ዙር 2: 30,000 ብር ለተሳላሰ አባል",
        biweekly_distribution_3: "ፍትሃዊ የማዞሪያ ስርዓት",

        // Features Section
        features_title: "ለምን ዲጂታል እቁብ እንደሚመርጡ",
        feature_1_title: "ደህንነቱ የተጠበቀ እና ግልጽ",
        feature_1_desc: "ሁሉም ግብይቶች ይመዘገባሉ እና ለአባላት ይታያሉ፣ ሙሉ ግልጽነትን ያረጋግጣል።",
        feature_2_title: "ፍትሃዊ ምርጫ",
        feature_2_desc: "የላቀ ስልሳም ፍትሃዊ ስርጭትን ያረጋግጣል እና ተወዳዳሪነትን ያስወግዳል።",
        feature_3_title: "ለስልክ ተስማሚ",
        feature_3_desc: "እቁብ መለያዎን ከየትም ከየጊዜው ያግኙ፣ በስልክ ላይ የሚሰራ መድረኳችን ጋር።",
        feature_4_title: "ወቅታዊ ዝመናዎች",
        feature_4_desc: "ስለ ክፍያዎች፣ ምርጫዎች እና የዙር ዝመናዎች ወቅታዊ ማስታወቂያዎችን ያግኙ።",

        // About Section
        about_title: "ስለ ዲጂታል እቁብ",
        about_desc_1: "ዲጂታል እቁብ የባህላዊ የኢትዮጵያ እቁብ ስርዓትን ወደ 21ኛው ክፍለ ዘመን የሚያመጣ ዘመናዊ ዲጂታል መድረኳ ነው። የባህላዊ እቁብ የማህበረሰብ መንፈስን ከዘመናዊ ቴክኖሎጂ ጋር እንደጣመር ደህንነቱ የተጠበቀ፣ ግልጽ እና ፍትሃዊ የገንዘብ ስብሰባ እና ስርጭት ስርዓት እንፈጥራለን።",
        about_desc_2: "መድረኳችን ሁሉም አባላት ከጋራ ቁጠባ ለመጠቀም እኩያ እድል እንዳላቸው ያረጋግጣል፣ እቁብ እንደ እንደዚህ ያለ አስደናቂ ባህል ያደረገውን የማህበረሰብ ግንኙነት ያስጠብቃል።",
        about_birr_monthly: "በወር ብር",
        about_weeks_per_round: "በዙር ሳምንታት",
        about_distribution: "ስርጭት",
        
        key_benefits_title: "ዋና ጥቅሞች",
        benefit_1: "የእጅ መዝገብ ማድረጊያ አያስፈልግም",
        benefit_2: "ወቅታዊ የክፍያ ማረጋገጫዎች",
        benefit_3: "ግልጽ የምርጫ ሂደት",
        benefit_4: "ደህንነቱ የተጠበቀ የአባል አስተዳደር",
        benefit_5: "የስልክ መድረሻ",

        // Footer
        footer_tagline: "የባህላዊ እቁብን ለዲጂታል ዘመን እናሻሻዋለን።",
        footer_quick_links: "ፈጣን አገናኞች",
        footer_contact: "አድራሻ",
        footer_follow_us: "ይከተሉን",
        footer_copyright: "© 2024 ዲጂታል እቁብ። ሁሉም መብቶች የተጠበቁ ናቸው።",

        // Modals
        login_title: "ወደ ዲጂታል እቁብ ይግቡ",
        register_title: "ዲጂታል እቁብ ላይ ይቀላቀሉ",
        dashboard_title: "ዲጂታል እቁብ ዳሽቦርድ",
        
        // Form Labels
        full_name: "ሙሉ ስም",
        email_address: "የኢሜይል አድራሻ",
        phone_number: "የስልክ ቁጥር",
        password: "የይለፍ ቃል",
        
        // Buttons
        create_account: "መለያ ይፍጠሩ",
        switch_to_register: "ይዝገቡ",
        switch_to_login: "ይግቡ",
        
        // Dashboard
        total_members: "ጠቅላላ አባላት",
        monthly_collection: "ወርሃዊ ስብሰባ",
        total_selections: "ጠቅላላ ምርጫዎች",
        current_month: "አሁን ያለው ወር",
        current_round_status: "የአሁን ዙር ሁኔታ",
        quick_actions: "ፈጣን ድርጊቶች",
        make_payment: "ክፍያ ያድርጉ",
        select_lucky_member: "ተሳላሰ አባል ይምረጡ",
        recent_payments: "የቅርብ ጊዜ ክፍያዎች",
        lucky_selections_history: "የተሳላሰ ምርጫዎች ታሪክ",
        all_members: "ሁሉም አባላት",
        
        // Form Messages
        registration_successful: "የተሳካከለ ምዝገባ! እባክዎ ይግቡ።",
        login_successful: "የተሳካከለ ግብ!",
        logout_successful: "የተሳካከለ ውጣት",
        payment_successful: "የተሳካከለ ክፍያ!",
        lucky_member_selected: "ተሳላሰ አባል ተመርጧል: {name}! ያገኛሉ {amount} ብር",
        
        // Validation Messages
        name_required: "ስም ያስፈልጋል",
        email_required: "ኢሜይል ያስፈልጋል",
        password_required: "የይለፍ ቃል ያስፈልጋል",
        invalid_credentials: "የተሳሳተ መረጃ",
        email_exists: "ኢሜይል አስቀድሞ አለ",
        network_error: "የድረግ ስህተት። እባክዎ እንደገና ይሞክሩ።",
        
        // Round Status
        between_rounds: "በዙሮች መካከል",
        next_round_starts: "የሚቀጥለው ዙር ይጀምራል:",
        round: "ዙር",
        collected: "የተሰበሰበ:",
        lucky_member_will_receive: "ተሳላሰ አባል ያገኛል:",
        
        // Table Headers
        member: "አባል",
        amount: "መጠን",
        date: "ቀን",
        status: "ሁኔታ",
        phone: "ስልክ",
        joined: "ተቀላቅሏል",
        total_paid: "ጠቅላላ የተከፈለ",
        
        // Status
        active: "ንቁ",
        inactive: "ንቁ አይደለም",
        completed: "የተጠናቀቀ",
        pending: "በጥበቃ ላይ",
        
        // Messages
        no_payments_found: "ምንም ክፍያ አልተገኘም",
        no_selections_found: "ምንም ተሳላሰ ምርጫ አልተገኘም",
        no_members_found: "ምንም አባል አልተገኘም",
        loading_dashboard: "ዳሽቦርድ እያጫወተ ነው...",
        
        // Currency
        currency: "ብር",
        
        // Language
        language: "ቋንቋ",
        english: "English",
        amharic: "አማርኛ"
    }
};

// Language management class
class LanguageManager {
    constructor() {
        this.currentLanguage = localStorage.getItem('language') || 'en';
        this.init();
    }

    init() {
        this.updateLanguageDisplay();
        this.translatePage();
    }

    setLanguage(lang) {
        this.currentLanguage = lang;
        localStorage.setItem('language', lang);
        this.updateLanguageDisplay();
        this.translatePage();
    }

    getText(key) {
        return translations[this.currentLanguage][key] || translations.en[key] || key;
    }

    updateLanguageDisplay() {
        const langBtn = document.getElementById('languageBtn');
        const langIndicator = document.getElementById('currentLanguage');
        
        if (langBtn) {
            langBtn.innerHTML = `
                <i class="fas fa-globe mr-2"></i>
                ${this.currentLanguage === 'en' ? 'አማርኛ' : 'English'}
            `;
        }
        
        if (langIndicator) {
            langIndicator.textContent = this.currentLanguage === 'en' ? 'English' : 'አማርኛ';
        }
    }

    translatePage() {
        // Translate all elements with data-translate attribute
        document.querySelectorAll('[data-translate]').forEach(element => {
            const key = element.getAttribute('data-translate');
            element.textContent = this.getText(key);
        });

        // Translate placeholders
        document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
            const key = element.getAttribute('data-translate-placeholder');
            element.placeholder = this.getText(key);
        });

        // Update currency display
        document.querySelectorAll('.currency-amount').forEach(element => {
            if (this.currentLanguage === 'am') {
                element.classList.add('amharic-text');
            } else {
                element.classList.remove('amharic-text');
            }
        });
    }

    toggleLanguage() {
        const newLang = this.currentLanguage === 'en' ? 'am' : 'en';
        this.setLanguage(newLang);
    }
}

// Make LanguageManager available globally
window.LanguageManager = LanguageManager;
